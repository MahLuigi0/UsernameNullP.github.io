<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC.B to SMPS Converter</title>
</head>
<body>
    <h2>DC.B to SMPS Converter</h2>
    <textarea id="input" rows="4" cols="50">
dc.b    dSnareS3, $18, dKickS3, dKickS3, dSnareS3, $06, dSnareS3, dSnareS3, dSnareS3
    </textarea>
    <br>
    <button onclick="convert()">Convert</button>
    <h3>Output</h3>
    <pre id="output"></pre>

    <script>
        function convert() {
            const input = document.getElementById('input').value;
            const outputElement = document.getElementById('output');

            // Split the input into parts
            const parts = input.split(',').map(part => part.trim());

            // Initialize variables
            let currentVoice = '';
            let output = '';

            parts.forEach(part => {
                if (part.startsWith('dSnareS3')) {
                    if (currentVoice !== 'sSnareS3') {
                        output += 'smpsSetvoice    sSnareS3\n';
                        currentVoice = 'sSnareS3';
                    }
                    output += `dc.b    nSnareS3`;
                } else if (part.startsWith('dKickS3')) {
                    if (currentVoice !== 'sKickS3') {
                        output += 'smpsSetvoice    sKickS3\n';
                        currentVoice = 'sKickS3';
                    }
                    output += `dc.b    nKickS3`;
                } else {
                    output += `dc.b    ${part}`;
                }
                output += ', ';
            });

            // Remove the trailing comma and space, and format the output
            output = output.trim().replace(/, $/, '').replace(/dc\.b/g, '\ndc.b');
            
            outputElement.textContent = output.trim();
        }
    </script>
</body>
</html>
